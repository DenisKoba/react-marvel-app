(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(64)},38:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),i=a.n(c),o=(a(38),a(5)),s=a(6),l=a(8),u=a(7),m=a(9),p=a(67),h=a(68),d=a(66),v=function(e){return r.a.createElement(d.a,{className:"char-component",to:"/character/".concat(e.data.id),key:e.data.id},r.a.createElement("div",{className:"hero-img-container"},r.a.createElement("div",{className:"hero-img-container__wrap"},r.a.createElement("img",{className:"hero-img-container__img",src:"".concat(e.data.thumbnail.path,".jpg")}),r.a.createElement("div",{className:"hero-img-container__title-wrap"},r.a.createElement("div",{className:"hero-img-container__hover"}),r.a.createElement("p",{className:"hero-img-container__title"},e.data.name)))))},f=function(e){return r.a.createElement("div",{className:"show-more-button-container"},e.loading?r.a.createElement("div",{className:"show-more-button-container__button"},r.a.createElement("span",{className:"show-more-button-container__loading"},"Loading...")):r.a.createElement("div",{className:"show-more-button-container__button"},r.a.createElement("span",null,"Show More")))},g=function(e){return r.a.createElement("div",{className:"preloader-wrapper"},r.a.createElement("div",{className:"outline"},r.a.createElement("div",{className:"loader"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))))},E=a(12),w=a(15),_=a.n(w);function b(e){var t;return e.data&&(t=e.data),t}var N=function(e,t){return t.apikey="ee36a79dfdfc1141f1ea1a48d75f9d39",_.a.get("https://gateway.marvel.com/v1/public/"+e,{params:t}).then(b)},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N("characters",e)},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return N("characters/".concat(e),t)},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return N("characters/".concat(e,"/comics"),t)},j=a(10),O=a.n(j),C={limit:50},T=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={comicsData:[],isButtonLoading:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){return O.a.get("success")?this.props.char.length?null:this.props.requestCharacters():this.props.history.push("/login")}},{key:"render",value:function(){var e=this;return this.props.char.length?r.a.createElement("div",null,r.a.createElement("div",{className:"characters-container"},e.props.char.map(function(e){return r.a.createElement(v,{key:e.id,data:e})})),r.a.createElement("div",{onClick:function(){e.setState(function(){return{isButtonLoading:!0}}),C.limit=C.limit+20,e.props.requestCharacters().then(function(){e.setState(function(){return{isButtonLoading:!1}})})}},r.a.createElement(f,{loading:this.state.isButtonLoading}))):r.a.createElement(g,null)}}]),t}(n.Component),I=Object(E.b)(function(e){return{char:e.characters}},function(e){return{requestCharacters:function(){return S(C).then(function(t){e({type:"GET_CHARACTERS",data:t.data.results})})}}})(T),A=a(32),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isActiveLimit:!0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=function(){e.setState(function(){return{isActiveLimit:!e.state.isActiveLimit}})},a=function(){return r.a.createElement("div",null,r.a.createElement("p",{className:"comics-wrapper__descr"},e.props.data.description),r.a.createElement("p",{onClick:t,className:"comics-wrapper__show-more"},"Show less"))},n=function(){return e.props.data.description.length>100?r.a.createElement("div",null,r.a.createElement("p",{className:"comics-wrapper__descr"},"".concat(e.props.data.description.substring(0,100),"...")),r.a.createElement("p",{onClick:t,className:"comics-wrapper__show-more"},"Show more")):e.props.data.description};return r.a.createElement("div",{className:"comics-wrapper__container"},r.a.createElement("img",{className:"comics-wrapper__img",src:"".concat(this.props.data.thumbnail.path,".jpg")}),r.a.createElement("div",{className:"comics-wrapper__descr"},e.props.data.description?e.state.isActiveLimit?n():a():r.a.createElement("p",{className:"comics-wrapper__descr"},"No description found :-(")))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={characterData:{},charComics:[],requestProps:{limit:10},isLoading:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;return e.setState(function(){return{isLoading:!0}}),y(e.props.match.params.id,e.state.requestProps).then(function(t){return e.setState(function(){return{charComics:t.data.results,isLoading:!1}})}).finally(function(){e.setState(function(){return{isLoading:!1}})}),this.props.char.length?function(){var t=Object(A.a)(e.props.char).find(function(t){return t.id===parseInt(e.props.match.params.id)});return e.setState(function(){return{characterData:t}})}():void k(e.props.match.params.id,e.state.requestProps).then(function(t){e.setState(function(){return{characterData:t.data.results[0]}})})}},{key:"render",value:function(){var e=this;return this.state.characterData.name?r.a.createElement("div",{className:"char-details-container"},r.a.createElement("div",{className:"char-details-container__wrapper"},r.a.createElement("div",{className:"char-details-container__img-wrapper"},r.a.createElement("img",{className:"char-details-container__img",src:"".concat(e.state.characterData.thumbnail.path,".jpg")})),r.a.createElement("div",{className:"char-details-container__descr-wrapper"},r.a.createElement("div",{className:"char-details-container__name"},e.state.characterData.name),r.a.createElement("p",{className:"char-details-container__descr"},e.state.characterData.description))),r.a.createElement("div",{className:"comics-component"},function(){if(e.state.charComics)return e.state.charComics.map(function(e){return r.a.createElement(x,{key:e.id,data:e})})}()),!!e.state.isLoading&&r.a.createElement(g,null)):r.a.createElement("div",{className:"loading"},"loading...")}}]),t}(n.Component),D=Object(E.b)(function(e){return{char:e.characters}})(L),P=function(){return r.a.createElement(d.a,{className:"marvel-navbar-link go-back",to:"/"},r.a.createElement("div",null,"Go Back"))},z=function(e){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"marvel-logo-container"},r.a.createElement("svg",{className:"marvel-logo",xmlns:"http://www.w3.org/2000/svg",width:"2500",height:"1000",viewBox:"0 0 500 200"},r.a.createElement("path",{fill:"#f0141e",d:"M0 0h500v200H0z"}),r.a.createElement("path",{d:"M423.12 46.619V15.991h-85.706l-14.11 102.282-13.94-102.282h-30.908l3.454 27.312c-3.563-7-16.211-27.312-44.061-27.312-.185-.012-30.945 0-30.945 0l-.128 149.084-22.523-149.084-40.484-.012-23.304 154.467.013-154.455H81.726l-13.965 86.768-13.604-86.768H15.399v167.932h30.523v-80.944l13.886 80.944h16.224l13.69-80.944v80.944h58.838l3.558-25.83h23.688l3.558 25.83 57.771.037h.042v-.037H237.249v-54.504l7.074-1.024 14.661 55.565h29.883l-.012-.037H288.94l-19.238-65.11c9.741-7.179 20.752-25.379 17.822-42.798v-.006c.036.226 18.164 108.026 18.164 108.026l35.534-.11 24.279-152.203v152.203h57.617v-30.199h-27.344v-38.507h27.344v-30.66h-27.344v-37.94h27.346zM155.713 131.47l8.387-71.802 8.69 71.802h-17.077zm88.708-33.155c-2.344 1.123-4.784 1.685-7.172 1.691v-54.01c.037 0 .093-.006.153-.006 2.38-.018 20.203.714 20.203 26.709 0 13.598-6.06 22.174-13.184 25.616zm240.186 55.383v30.188h-56.214V15.967h30.272v137.731h25.942z",fill:"#fff"})),r.a.createElement("div",{onClick:function(){return O.a.remove("success"),O.a.remove("tokenRefresh"),localStorage.removeItem("userEmail"),e.history.push("/login")},className:"logout"},"Log out")),r.a.createElement("div",{className:"marvel-navbar-container"},r.a.createElement(h.a,{className:"marvel-navbar-link",path:"/character/:id",component:P}),r.a.createElement(d.a,{className:"marvel-navbar-link",to:"/"},r.a.createElement("div",null,"Characters")),r.a.createElement(d.a,{className:"marvel-navbar-link",to:"/comics"},r.a.createElement("div",null,"Comics"))))};function H(e){var t;return e.data&&(t=e.data),t}var U=function(e,t){return _.a.post("".concat("https://www.googleapis.com/identitytoolkit/v3/relyingparty/").concat(e).concat("?key=AIzaSyC3b4Rf_YWIhnbhtiDkxTsUJfhuOgj3oDw"),t).then(H)},B=function(e){return U("signupNewUser/",e)},G=function(e){return U("verifyPassword/",e)},R=null,q=null,M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",signState:!0,errorText:null,isSigningIn:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=function(){return t=e.state.email,/^(([^\u0430-\u044f\u0410-\u042f\u044b\u044a<>()[\]\\.,;:\s@\"]+(\.[^\u0430-\u044f\u0410-\u042f\u044b\u044a<>()[\]\\.,;:\s@\"]+)*)|(\"[a-zA-Z\-0-9]+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?!(e.state.password.length<=7)||e.setState(function(){return{errorText:"Password should be at least 7 characters length"}}):e.setState(function(){return{errorText:"Invalid email. Try another email."}});var t},a=function(){t()&&(e.setState(function(){return{isSigningIn:!0}}),e.props.signUp().then(function(t){return e.setState(function(){return{isSigningIn:!1}}),t.idToken?e.props.history.push("/"):e.setState(function(){return{errorText:"Such email is already exists."}})}))},n=function(){t()&&(e.setState(function(){return{isSigningIn:!0}}),e.props.signIn().then(function(t){return e.setState(function(){return{isSigningIn:!1}}),t.idToken?e.props.history.push("/"):e.setState(function(){return{errorText:"Invalid email. Try another email."}})}))},c=function(){return e.setState(function(){return{errorText:null}})},i=function(){return document.querySelectorAll(".js-input").forEach(function(e){e.value=""}),e.setState(function(){return{errorText:""}}),e.setState(function(){return{signState:!e.state.signState,password:null,email:null}})},o=function(){return r.a.createElement("div",{className:"login-button-wrapper"},r.a.createElement("button",{className:"login-button-wrapper__button",onClick:n},e.state.isSigningIn?r.a.createElement("span",null,"...Processing"):r.a.createElement("span",null,"Sign In")),r.a.createElement("div",{className:"login-button-wrapper__text"},"Don't have an account?",r.a.createElement("span",{onClick:i,className:"login-button-wrapper__link"}," Sign Up")))},s=function(){return r.a.createElement("div",{className:"login-button-wrapper"},r.a.createElement("button",{className:"login-button-wrapper__button",onClick:a},e.state.isSigningIn?r.a.createElement("span",null,"...Processing"):r.a.createElement("span",null,"Sign Up")),r.a.createElement("div",{onClick:i,className:"login-button-wrapper__text login-button-wrapper__link"},"Sign In"))};return r.a.createElement("div",null,r.a.createElement("div",{className:"login-form-wrapper"},r.a.createElement("div",{className:"image-container"}),r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"login-container__form"},r.a.createElement("input",{className:"login-container__input js-input",placeholder:"email",onInput:function(t){var a=t.currentTarget;return e.setState(function(){return{email:a.value}}),R=a.value},onClick:c}),r.a.createElement("input",{className:"login-container__input js-input",placeholder:"password",onInput:function(t){var a=t.currentTarget;return e.setState(function(){return{password:a.value}}),q=a.value},onClick:c,type:"password"}),e.state.signState?o():s(),r.a.createElement("div",{className:"error-container"},this.state.errorText," ")))))}}]),t}(n.Component),J=Object(E.b)(function(e){return{email:e.email,password:e.password}},function(e){return{signUp:function(){return B({email:R,password:q,returnSecureToken:!0}).then(function(t){return e({type:"SIGN_UP",data:t}),t}).catch(function(e){return e})},signIn:function(){return G({email:R,password:q,returnSecureToken:!0}).then(function(t){return e({type:"SIGN_UP",data:t}),t}).catch(function(e){return e})}}})(M),W=function(e){return r.a.createElement("div",null,r.a.createElement(h.a,{path:"/login",component:J}),r.a.createElement(h.a,{path:"/",component:z}),r.a.createElement(h.a,{path:"/",exact:!0,component:I}),r.a.createElement(h.a,{path:"/character/:id",component:D}))},Z=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(W,null))}}]),t}(n.Component),V=a(14),$=a(17),Y={characters:[],specificCharacter:[],token:null,refreshToken:null,emial:null,password:null},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CHARACTERS":return Object($.a)({},e,{characters:t.data});case"GET_CHOSEN_CHARACTER":return e;case"SIGN_UP":case"SIGN_IN":return O.a.set("success",t.data.idToken),O.a.set("refreshToken",t.data.refreshToken),Object($.a)({},e,{token:t.data.idToken,refreshToken:t.data.refreshToken});default:return e}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=Object(V.b)(F);i.a.render(r.a.createElement(E.a,{store:K},r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.d1805907.chunk.js.map